import{v as E}from"./index-99081654.js";/* empty css              */import{A as R,R as T,g as w,b as z,a as M}from"./index-1b322baf.js";/* empty css              *//* empty css              */import{d as O,r as A,b as $,c as j,v as U,aQ as V,E as L,F as P,I as _,aO as e,aM as a,H as W,u as l,aW as u,aX as F,aJ as g,bm as H,bn as J,a$ as Q,bh as X,bo as Z,bp as q,aZ as G,b4 as K,bj as Y,b5 as ee,b6 as ae}from"./ui-d21e50a8.js";import{u as te,f as oe}from"./vue-d513a0ae.js";import{f as se,p as ne,t as f}from"./wallet-61e40332.js";import{_ as re}from"./plugin-vueexport-helper-c27b6911.js";const le=d=>(ee("data-v-4b691035"),d=d(),ae(),d),ie={class:"mint-container"},ce={class:"content"},ue=le(()=>_("div",null,null,-1)),de=O({__name:"index",setup(d){const{t:i}=E.useI18n(),v=te(oe).smaller("sm"),t=A({value:0,from:0}),s=A({value:0,from:0}),b=$(!1),x=j(()=>Math.floor(t.value/15e6*1e3)/1e3),p=R(),S=T();async function B(){const o=await w();if(o){const n=await S.balanceOf(o.address);s.value=Number(se(n)),setTimeout(()=>{s.from=s.value},1e3)}}async function D(){const o=await w();if(o){b.value=!0;try{const r=await(await o.sendTransaction({to:z,value:ne("0.002")})).wait();r&&(r.logs.filter(c=>f(c.address)===f(M)&&c.topics[0].endsWith("f523b3ef")&&f(c.topics[2])===f(o.address)).length>0?(s.value+=100,setTimeout(()=>{s.from=s.value},1e3)):g.warning(i("mint.fail")))}catch(n){n.reason?g.error(n.reason):g.error(i("mint.fail"))}finally{b.value=!1}}}return U(async()=>{B(),p._totalDroped().then(o=>{t.value=Number(o)*100,setTimeout(()=>{t.from=t.value},1e3)}),p.on(p.getEvent("Droped"),(o,n)=>{const r=Number(n)*100;r>t.value&&(t.value=r,setTimeout(()=>{t.from=t.value},1e3))})}),V(()=>{p.off("Droped")}),(o,n)=>{const r=H,c=J,y=Q,h=X,m=Z,I=q,k=G,N=K,C=Y;return L(),P("div",ie,[_("div",ce,[_("div",null,[e(C,{class:"card",title:"Mint",hoverable:"",bordered:!1},{default:a(()=>[e(N,{justify:"space-between",style:W({flexDirection:l(v)?"":"row-reverse"}),gutter:[10,50]},{default:a(()=>[e(h,{span:l(v)?24:12},{default:a(()=>[e(y,{direction:"vertical",fill:""},{default:a(()=>[_("div",null,[e(r,{value:t.value,"value-from":t.from,"animation-duration":1e3,"value-style":{fontSize:"14px",paddingLeft:"5px"},animation:"","show-group-separator":""},null,8,["value","value-from"]),u(" / 15,000,000")]),e(c,{size:"large","stroke-width":10,type:"circle",color:{"0%":"rgb(var(--primary-6))","100%":"rgb(var(--success-6))"},percent:x.value,style:{zoom:1.5}},null,8,["color","percent"])]),_:1})]),_:1},8,["span"]),e(h,{span:l(v)?24:12},{default:a(()=>[e(y,{direction:"vertical",fill:""},{default:a(()=>[e(I,{column:1},{default:a(()=>[e(m,{label:l(i)("mint.total")},{default:a(()=>[u(" 15,000,000 ")]),_:1},8,["label"]),e(m,{label:l(i)("mint.price")},{default:a(()=>[u(" 0.002 BNB ")]),_:1},8,["label"]),e(m,{label:l(i)("mint.tokennum")},{default:a(()=>[u(" 100 ")]),_:1},8,["label"]),e(m,{label:l(i)("mint.balance")},{default:a(()=>[e(r,{value:s.value,"value-from":s.from,"animation-duration":1e3,"value-style":{fontSize:"14px",paddingLeft:"5px"},animation:"","show-group-separator":""},null,8,["value","value-from"])]),_:1},8,["label"])]),_:1}),e(k,{style:{"z-index":"1"},long:"",type:"primary",status:"success",loading:b.value,disabled:x.value===1,onClick:D},{default:a(()=>[u(F(l(i)("mint.mintbtn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["span"])]),_:1},8,["style"])]),_:1})]),ue])])}}});const we=re(de,[["__scopeId","data-v-4b691035"]]);export{we as default};
